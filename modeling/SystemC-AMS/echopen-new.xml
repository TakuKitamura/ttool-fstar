<?xml version="1.0" encoding="UTF-8"?>

<TURTLEGMODELING version="1.0beta" ANIMATE_INTERACTIVE_SIMULATION="true" ACTIVATE_PENALTIES="true" UPDATE_INFORMATION_DIPLO_SIM="true" ANIMATE_WITH_INFO_DIPLO_SIM="true" OPEN_DIAG_DIPLO_SIM="false">

<Modeling type="SystemC-AMS" nameTab="SystemC_AMS" >
<SysCAMSComponentTaskDiagramPanel name="SystemC-AMS Component Diagram" minX="10" maxX="2500" minY="10" maxY="1500" TDF="true" DE="true" zoom="1.0" >
<CONNECTOR type="1601" id="1" >
<cdparam x="220" y="637" />
<sizeparam width="0" height="0" minWidth="0" minHeight="0" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<infoparam name="connector" value="mainreg4" />
<P1  x="343" y="338" id="39" />
<P2  x="498" y="300" id="273" />
<AutomaticDrawing  data="true" />
</CONNECTOR>
<CONNECTOR type="1601" id="2" >
<cdparam x="223" y="214" />
<sizeparam width="0" height="0" minWidth="0" minHeight="0" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<infoparam name="connector" value="adcregi" />
<P1  x="203" y="219" id="97" />
<P2  x="297" y="283" id="49" />
<AutomaticDrawing  data="true" />
</CONNECTOR>
<CONNECTOR type="1601" id="3" >
<cdparam x="873" y="495" />
<sizeparam width="0" height="0" minWidth="0" minHeight="0" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<infoparam name="connector" value="mainreg1" />
<P1  x="718" y="351" id="283" />
<P2  x="861" y="354" id="166" />
<AutomaticDrawing  data="true" />
</CONNECTOR>
<CONNECTOR type="1601" id="4" >
<cdparam x="295" y="404" />
<sizeparam width="0" height="0" minWidth="0" minHeight="0" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<infoparam name="connector" value="mainreg2" />
<P1  x="910" y="432" id="146" />
<P2  x="859" y="513" id="215" />
<AutomaticDrawing  data="true" />
</CONNECTOR>
<CONNECTOR type="1601" id="5" >
<cdparam x="944" y="196" />
<sizeparam width="0" height="0" minWidth="0" minHeight="0" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<infoparam name="connector" value="" />
<P1  x="999" y="195" id="254" />
<P2  x="961" y="262" id="176" />
<AutomaticDrawing  data="true" />
</CONNECTOR>
<CONNECTOR type="1601" id="6" >
<cdparam x="1037" y="580" />
<sizeparam width="0" height="0" minWidth="0" minHeight="0" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<infoparam name="connector" value="" />
<P1  x="976" y="683" id="205" />
<P2  x="953" y="754" id="20" />
<AutomaticDrawing  data="true" />
</CONNECTOR>
<CONNECTOR type="1601" id="7" >
<cdparam x="817" y="610" />
<sizeparam width="0" height="0" minWidth="0" minHeight="0" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<infoparam name="connector" value="" />
<P1  x="796" y="634" id="225" />
<P2  x="846" y="754" id="10" />
<AutomaticDrawing  data="true" />
</CONNECTOR>
<CONNECTOR type="1601" id="8" >
<cdparam x="529" y="357" />
<sizeparam width="0" height="0" minWidth="0" minHeight="0" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<infoparam name="connector" value="" />
<P1  x="1032" y="432" id="156" />
<P2  x="982" y="513" id="195" />
<AutomaticDrawing  data="true" />
</CONNECTOR>
<CONNECTOR type="1601" id="9" >
<cdparam x="454" y="231" />
<sizeparam width="0" height="0" minWidth="0" minHeight="0" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<infoparam name="connector" value="" />
<P1  x="537" y="133" id="68" />
<P2  x="375" y="141" id="107" />
<AutomaticDrawing  data="true" />
</CONNECTOR>
<COMPONENT type="1608" id="38" >
<cdparam x="788" y="764" />
<sizeparam width="200" height="150" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="10" maxX="2500" minY="10" maxY="1500" />
<infoparam name="Primitive component - Block GPIO2VCI" value="blockGPIO2VCI" />
<TGConnectingPoint num="0" id="30" />
<TGConnectingPoint num="1" id="31" />
<TGConnectingPoint num="2" id="32" />
<TGConnectingPoint num="3" id="33" />
<TGConnectingPoint num="4" id="34" />
<TGConnectingPoint num="5" id="35" />
<TGConnectingPoint num="6" id="36" />
<TGConnectingPoint num="7" id="37" />
</COMPONENT>
<SUBCOMPONENT type="1605" id="19" >
<father id="38" num="0" />
<cdparam x="836" y="754" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="port" />
<TGConnectingPoint num="0" id="10" />
<TGConnectingPoint num="1" id="11" />
<TGConnectingPoint num="2" id="12" />
<TGConnectingPoint num="3" id="13" />
<TGConnectingPoint num="4" id="14" />
<TGConnectingPoint num="5" id="15" />
<TGConnectingPoint num="6" id="16" />
<TGConnectingPoint num="7" id="17" />
<TGConnectingPoint num="8" id="18" />
<extraparam>
<Prop commName="port" commType="0" origin="0" type="int" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="29" >
<father id="38" num="1" />
<cdparam x="943" y="754" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="port" />
<TGConnectingPoint num="0" id="20" />
<TGConnectingPoint num="1" id="21" />
<TGConnectingPoint num="2" id="22" />
<TGConnectingPoint num="3" id="23" />
<TGConnectingPoint num="4" id="24" />
<TGConnectingPoint num="5" id="25" />
<TGConnectingPoint num="6" id="26" />
<TGConnectingPoint num="7" id="27" />
<TGConnectingPoint num="8" id="28" />
<extraparam>
<Prop commName="port" commType="0" origin="0" type="int" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>

<COMPONENT type="1607" id="319" >
<cdparam x="40" y="15" />
<sizeparam width="1073" height="704" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="10" maxX="2500" minY="10" maxY="1500" />
<infoparam name="Composite component - Cluster" value="newenvelopeuntil" />
<TGConnectingPoint num="0" id="311" />
<TGConnectingPoint num="1" id="312" />
<TGConnectingPoint num="2" id="313" />
<TGConnectingPoint num="3" id="314" />
<TGConnectingPoint num="4" id="315" />
<TGConnectingPoint num="5" id="316" />
<TGConnectingPoint num="6" id="317" />
<TGConnectingPoint num="7" id="318" />
</COMPONENT>
<SUBCOMPONENT type="1603" id="67" >
<father id="319" num="0" />
<cdparam x="133" y="293" />
<sizeparam width="200" height="150" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="0" maxX="873" minY="0" maxY="554" />
<infoparam name="Primitive component - Block DE" value="adcre1" />
<TGConnectingPoint num="0" id="59" />
<TGConnectingPoint num="1" id="60" />
<TGConnectingPoint num="2" id="61" />
<TGConnectingPoint num="3" id="62" />
<TGConnectingPoint num="4" id="63" />
<TGConnectingPoint num="5" id="64" />
<TGConnectingPoint num="6" id="65" />
<TGConnectingPoint num="7" id="66" />
<extraparam>
<Attribute name_function="" code="#include &quot;systemc.h&quot;   SC_MODULE(adcre) {
	sc_in &lt;sc_uint&lt;12&gt; &gt; adcregisterinput;
	sc_in &lt;bool&gt; clockffp;
	sc_out &lt;sc_uint&lt;12&gt; &gt; adcregisteroutput;
	void adcre_main() {
		adcregisteroutput.write(adcregisterinput.read());
	}
	SC_CTOR(adcre) {
		SC_METHOD (adcre_main);
		sensitive &lt;&lt;clockffp.pos();
	}
}
              ;
" listStruct="" nameTemplate="" typeTemplate="int" valueTemplate="" listTypedef="" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="48" >
<father id="67" num="0" />
<cdparam x="323" y="328" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="adcregisteroutput" />
<TGConnectingPoint num="0" id="39" />
<TGConnectingPoint num="1" id="40" />
<TGConnectingPoint num="2" id="41" />
<TGConnectingPoint num="3" id="42" />
<TGConnectingPoint num="4" id="43" />
<TGConnectingPoint num="5" id="44" />
<TGConnectingPoint num="6" id="45" />
<TGConnectingPoint num="7" id="46" />
<TGConnectingPoint num="8" id="47" />
<extraparam>
<Prop commName="adcregisteroutput" commType="0" origin="1" type="int" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="58" >
<father id="67" num="1" />
<cdparam x="287" y="283" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="adcregisterinput" />
<TGConnectingPoint num="0" id="49" />
<TGConnectingPoint num="1" id="50" />
<TGConnectingPoint num="2" id="51" />
<TGConnectingPoint num="3" id="52" />
<TGConnectingPoint num="4" id="53" />
<TGConnectingPoint num="5" id="54" />
<TGConnectingPoint num="6" id="55" />
<TGConnectingPoint num="7" id="56" />
<TGConnectingPoint num="8" id="57" />
<extraparam>
<Prop commName="adcregisterinput" commType="0" origin="0" type="sc_uint&lt;32&gt;" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1602" id="96" >
<father id="319" num="1" />
<cdparam x="547" y="58" />
<sizeparam width="200" height="150" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="0" maxX="873" minY="0" maxY="554" />
<infoparam name="Primitive component - Block TDF" value="mySine1" />
<TGConnectingPoint num="0" id="88" />
<TGConnectingPoint num="1" id="89" />
<TGConnectingPoint num="2" id="90" />
<TGConnectingPoint num="3" id="91" />
<TGConnectingPoint num="4" id="92" />
<TGConnectingPoint num="5" id="93" />
<TGConnectingPoint num="6" id="94" />
<TGConnectingPoint num="7" id="95" />
<extraparam>
<Attribute period="5.0E-4" time="ms" processCode="void processing() {
	double t = get_time().to_seconds();
	// actual time         out1.write(2000.99 * std::sin( 2.0 * M_PI * freqoftheprobe * t ) );
	probesample.write(1);
}
                      " constructorCode="" listStruct="Ts = 1.0 : double|freqoftheprobe = 1.0 : double" nameTemplate="" typeTemplate="int" valueTemplate="" listTypedef="" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1604" id="77" >
<father id="96" num="0" />
<cdparam x="537" y="123" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port TDF" value="port" />
<TGConnectingPoint num="0" id="68" />
<TGConnectingPoint num="1" id="69" />
<TGConnectingPoint num="2" id="70" />
<TGConnectingPoint num="3" id="71" />
<TGConnectingPoint num="4" id="72" />
<TGConnectingPoint num="5" id="73" />
<TGConnectingPoint num="6" id="74" />
<TGConnectingPoint num="7" id="75" />
<TGConnectingPoint num="8" id="76" />
<extraparam>
<Prop commName="port" commType="0" origin="0" period="-1.0" time="" rate="-1" delay="-1" type="int" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1602" id="135" >
<father id="319" num="2" />
<cdparam x="165" y="59" />
<sizeparam width="200" height="150" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="0" maxX="873" minY="0" maxY="554" />
<infoparam name="Primitive component - Block TDF" value="ADC1" />
<TGConnectingPoint num="0" id="127" />
<TGConnectingPoint num="1" id="128" />
<TGConnectingPoint num="2" id="129" />
<TGConnectingPoint num="3" id="130" />
<TGConnectingPoint num="4" id="131" />
<TGConnectingPoint num="5" id="132" />
<TGConnectingPoint num="6" id="133" />
<TGConnectingPoint num="7" id="134" />
<extraparam>
<Attribute period="5.0E-4" time="ms" processCode="void processing() {
	addition=inputfromtheprobe.read()+2047;
	for (int i= 0;i&lt;4096;i++)  {
		if   //((addition &lt; (i+1))  &amp;&amp; (addition &gt; (i))){
(((			inputfromtheprobe.read()+2048) &lt; (i+1))  &amp;&amp; ((inputfromtheprobe.read()+2048) &gt; (i))){
				outputonepoint.write(i-2048);
				// outputready.write(1);
			}
		}
	}
" constructorCode="" listStruct="" nameTemplate="" typeTemplate="int" valueTemplate="" listTypedef="" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1606" id="106" >
<father id="135" num="0" />
<cdparam x="193" y="199" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port Converter" value="outputonepoint" />
<TGConnectingPoint num="0" id="97" />
<TGConnectingPoint num="1" id="98" />
<TGConnectingPoint num="2" id="99" />
<TGConnectingPoint num="3" id="100" />
<TGConnectingPoint num="4" id="101" />
<TGConnectingPoint num="5" id="102" />
<TGConnectingPoint num="6" id="103" />
<TGConnectingPoint num="7" id="104" />
<TGConnectingPoint num="8" id="105" />
<extraparam>
<Prop commName="outputonepoint" commType="0" origin="1" period="1.0" time="ms" rate="-1" nbits="0" delay="-1" type="sc_uint&lt;32&gt;" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1604" id="116" >
<father id="135" num="1" />
<cdparam x="355" y="131" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port TDF" value="inputfromtheprobe" />
<TGConnectingPoint num="0" id="107" />
<TGConnectingPoint num="1" id="108" />
<TGConnectingPoint num="2" id="109" />
<TGConnectingPoint num="3" id="110" />
<TGConnectingPoint num="4" id="111" />
<TGConnectingPoint num="5" id="112" />
<TGConnectingPoint num="6" id="113" />
<TGConnectingPoint num="7" id="114" />
<TGConnectingPoint num="8" id="115" />
<extraparam>
<Prop commName="inputfromtheprobe" commType="0" origin="0" period="1.0" time="ms" rate="-1" delay="-1" type="double" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1603" id="194" >
<father id="319" num="3" />
<cdparam x="871" y="272" />
<sizeparam width="200" height="150" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="0" maxX="873" minY="0" maxY="554" />
<infoparam name="Primitive component - Block DE" value="comparator1" />
<TGConnectingPoint num="0" id="186" />
<TGConnectingPoint num="1" id="187" />
<TGConnectingPoint num="2" id="188" />
<TGConnectingPoint num="3" id="189" />
<TGConnectingPoint num="4" id="190" />
<TGConnectingPoint num="5" id="191" />
<TGConnectingPoint num="6" id="192" />
<TGConnectingPoint num="7" id="193" />
<extraparam>
<Attribute name_function="comparator_main" code="  void comparator_main(){
	if (enable.read()==0){
		counter=0;
		inr1=0;
		compienable.write(0);
	}
	else{
		counter=counter+1;
		inr=(inputfromabs.read());
		if  (inr&gt;inr1){
			inr1=inr;
		}
		else {
			inr1=inr1;
		}
		if(counter==30){
			outputmax.write(inr1);
			counter=0;
			inr1=0;
			compienable.write(1);
		}
		else {
			outputmax.write(0);
			compienable.write(0);
		}
	}
}
                   " listStruct="" nameTemplate="" typeTemplate="int" valueTemplate="" listTypedef="" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="155" >
<father id="194" num="0" />
<cdparam x="900" y="412" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="outputmax" />
<TGConnectingPoint num="0" id="146" />
<TGConnectingPoint num="1" id="147" />
<TGConnectingPoint num="2" id="148" />
<TGConnectingPoint num="3" id="149" />
<TGConnectingPoint num="4" id="150" />
<TGConnectingPoint num="5" id="151" />
<TGConnectingPoint num="6" id="152" />
<TGConnectingPoint num="7" id="153" />
<TGConnectingPoint num="8" id="154" />
<extraparam>
<Prop commName="outputmax" commType="0" origin="1" type="sc_uint&lt;32&gt;" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="165" >
<father id="194" num="1" />
<cdparam x="1022" y="412" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="copienable" />
<TGConnectingPoint num="0" id="156" />
<TGConnectingPoint num="1" id="157" />
<TGConnectingPoint num="2" id="158" />
<TGConnectingPoint num="3" id="159" />
<TGConnectingPoint num="4" id="160" />
<TGConnectingPoint num="5" id="161" />
<TGConnectingPoint num="6" id="162" />
<TGConnectingPoint num="7" id="163" />
<TGConnectingPoint num="8" id="164" />
<extraparam>
<Prop commName="copienable" commType="0" origin="1" type="bool" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="175" >
<father id="194" num="2" />
<cdparam x="861" y="344" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="inputfromabs" />
<TGConnectingPoint num="0" id="166" />
<TGConnectingPoint num="1" id="167" />
<TGConnectingPoint num="2" id="168" />
<TGConnectingPoint num="3" id="169" />
<TGConnectingPoint num="4" id="170" />
<TGConnectingPoint num="5" id="171" />
<TGConnectingPoint num="6" id="172" />
<TGConnectingPoint num="7" id="173" />
<TGConnectingPoint num="8" id="174" />
<extraparam>
<Prop commName="inputfromabs" commType="0" origin="0" type="sc_uint&lt;32&gt;" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="185" >
<father id="194" num="3" />
<cdparam x="951" y="262" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="enable" />
<TGConnectingPoint num="0" id="176" />
<TGConnectingPoint num="1" id="177" />
<TGConnectingPoint num="2" id="178" />
<TGConnectingPoint num="3" id="179" />
<TGConnectingPoint num="4" id="180" />
<TGConnectingPoint num="5" id="181" />
<TGConnectingPoint num="6" id="182" />
<TGConnectingPoint num="7" id="183" />
<TGConnectingPoint num="8" id="184" />
<extraparam>
<Prop commName="enable" commType="0" origin="0" type="bool" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1603" id="243" >
<father id="319" num="4" />
<cdparam x="806" y="523" />
<sizeparam width="200" height="150" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="0" maxX="873" minY="0" maxY="554" />
<infoparam name="Primitive component - Block DE" value="spi" />
<TGConnectingPoint num="0" id="235" />
<TGConnectingPoint num="1" id="236" />
<TGConnectingPoint num="2" id="237" />
<TGConnectingPoint num="3" id="238" />
<TGConnectingPoint num="4" id="239" />
<TGConnectingPoint num="5" id="240" />
<TGConnectingPoint num="6" id="241" />
<TGConnectingPoint num="7" id="242" />
<extraparam>
<Attribute name_function="" code="#include &quot;systemc.h&quot;   SC_MODULE(spi) {
	sc_in &lt;sc_uint&lt;12&gt; &gt; comparatorinput;
	sc_in &lt;bool&gt; clk;
	sc_out &lt;sc_uint&lt;12&gt; &gt; fpgaoutput[30];
	///800   sc_in &lt;bool&gt; compinenable;
	sc_out &lt;bool&gt; fpgaoutready;
	sc_in &lt;bool&gt; enable1;
	sc_uint&lt;12&gt; inr1[30];
	///800   int counter;
	void spi_main() {
		if (enable1.read()==0){
			counter=0;
		}
		if (compinenable.read()==1 ) {
			inr1[counter]=comparatorinput;
			counter=counter+1;
		}
		//outputready.write(1);
		outputvector.write(insideregister);
		count =  0;
	}
	if(counter==30){
		for(int i=0;i&lt;30;i++) {
			fpgaoutput[i].write(inr1[i]);
		}
		counter=0;
	}
	///800               }
                    " listStruct="" nameTemplate="" typeTemplate="int" valueTemplate="" listTypedef="" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="204" >
<father id="243" num="0" />
<cdparam x="972" y="513" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="compinenable" />
<TGConnectingPoint num="0" id="195" />
<TGConnectingPoint num="1" id="196" />
<TGConnectingPoint num="2" id="197" />
<TGConnectingPoint num="3" id="198" />
<TGConnectingPoint num="4" id="199" />
<TGConnectingPoint num="5" id="200" />
<TGConnectingPoint num="6" id="201" />
<TGConnectingPoint num="7" id="202" />
<TGConnectingPoint num="8" id="203" />
<extraparam>
<Prop commName="compinenable" commType="0" origin="0" type="bool" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="214" >
<father id="243" num="1" />
<cdparam x="966" y="663" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="fpgaoutput" />
<TGConnectingPoint num="0" id="205" />
<TGConnectingPoint num="1" id="206" />
<TGConnectingPoint num="2" id="207" />
<TGConnectingPoint num="3" id="208" />
<TGConnectingPoint num="4" id="209" />
<TGConnectingPoint num="5" id="210" />
<TGConnectingPoint num="6" id="211" />
<TGConnectingPoint num="7" id="212" />
<TGConnectingPoint num="8" id="213" />
<extraparam>
<Prop commName="fpgaoutput" commType="0" origin="1" type="sc_uint&lt;32&gt;" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="224" >
<father id="243" num="2" />
<cdparam x="849" y="513" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="comparatorinput" />
<TGConnectingPoint num="0" id="215" />
<TGConnectingPoint num="1" id="216" />
<TGConnectingPoint num="2" id="217" />
<TGConnectingPoint num="3" id="218" />
<TGConnectingPoint num="4" id="219" />
<TGConnectingPoint num="5" id="220" />
<TGConnectingPoint num="6" id="221" />
<TGConnectingPoint num="7" id="222" />
<TGConnectingPoint num="8" id="223" />
<extraparam>
<Prop commName="comparatorinput" commType="0" origin="0" type="sc_uint&lt;32&gt;" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="234" >
<father id="243" num="3" />
<cdparam x="796" y="624" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="fpgaoutready" />
<TGConnectingPoint num="0" id="225" />
<TGConnectingPoint num="1" id="226" />
<TGConnectingPoint num="2" id="227" />
<TGConnectingPoint num="3" id="228" />
<TGConnectingPoint num="4" id="229" />
<TGConnectingPoint num="5" id="230" />
<TGConnectingPoint num="6" id="231" />
<TGConnectingPoint num="7" id="232" />
<TGConnectingPoint num="8" id="233" />
<extraparam>
<Prop commName="fpgaoutready" commType="0" origin="1" type="bool" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1603" id="272" >
<father id="319" num="5" />
<cdparam x="840" y="35" />
<sizeparam width="200" height="150" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="0" maxX="873" minY="0" maxY="554" />
<infoparam name="Primitive component - Block DE" value="samplegenerator" />
<TGConnectingPoint num="0" id="264" />
<TGConnectingPoint num="1" id="265" />
<TGConnectingPoint num="2" id="266" />
<TGConnectingPoint num="3" id="267" />
<TGConnectingPoint num="4" id="268" />
<TGConnectingPoint num="5" id="269" />
<TGConnectingPoint num="6" id="270" />
<TGConnectingPoint num="7" id="271" />
<extraparam>
<Attribute name_function="" code="#include &quot;systemc.h&quot; #include &quot;math.h&quot; #include &lt;fstream&gt; #include &lt;iostream&gt; #include &lt;complex&gt;  SC_MODULE(pulse_gen){
	sc_out &lt;sc_uint&lt;12&gt; &gt;  genout;
	//  4 4 /z/ /ka/   sc_in  &lt;bool&gt; clk;
	sc_out &lt;bool&gt; outpready;
	//sc_int&lt;8&gt; insideregister[64];
	//z/ /ka/   sc_uint&lt;12&gt; inr;
	//double insideregister1[64];
	//double insideregister2[64];
	//std::complex&lt;double&gt; inexp[32];
	//std::complex&lt;double&gt; i{
		0,1              	}
;
	//std::complex&lt;double&gt; i1,i2;
	//double i3;
	void pulse_gen_main(){
		inr=rand()%4096;
		outpready.write(1);
		genout.write(inr) ;
		//  expo[j].write((i3));
	}
" listStruct="" nameTemplate="" typeTemplate="int" valueTemplate="" listTypedef="" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="263" >
<father id="272" num="0" />
<cdparam x="989" y="175" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="outpready" />
<TGConnectingPoint num="0" id="254" />
<TGConnectingPoint num="1" id="255" />
<TGConnectingPoint num="2" id="256" />
<TGConnectingPoint num="3" id="257" />
<TGConnectingPoint num="4" id="258" />
<TGConnectingPoint num="5" id="259" />
<TGConnectingPoint num="6" id="260" />
<TGConnectingPoint num="7" id="261" />
<TGConnectingPoint num="8" id="262" />
<extraparam>
<Prop commName="outpready" commType="0" origin="1" type="bool" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1603" id="301" >
<father id="319" num="6" />
<cdparam x="508" y="266" />
<sizeparam width="200" height="150" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="0" maxX="873" minY="0" maxY="554" />
<infoparam name="Primitive component - Block DE" value="abscalc1" />
<TGConnectingPoint num="0" id="293" />
<TGConnectingPoint num="1" id="294" />
<TGConnectingPoint num="2" id="295" />
<TGConnectingPoint num="3" id="296" />
<TGConnectingPoint num="4" id="297" />
<TGConnectingPoint num="5" id="298" />
<TGConnectingPoint num="6" id="299" />
<TGConnectingPoint num="7" id="300" />
<extraparam>
<Attribute name_function="" code="#include &quot;systemc.h&quot;  SC_MODULE (absolute_calc) {
	sc_in&lt;bool&gt; clk ;
	// Clock input of the design   sc_in&lt;sc_uint&lt;12&gt; &gt;   inputfromadc ;
	// 12 bit input from the adc   sc_out&lt;sc_uint&lt;12&gt; &gt;   absoutput;
	// 12 bit output for the maximum of the envelope   //sc_out&lt;sc_uint&lt;4&gt; &gt;  counter_out;
	// decimation    //------------Local Variables Here---------------------   sc_uint&lt;12&gt; inr;
	sc_uint&lt;12&gt;   inr4;
	sc_uint&lt;12&gt;   inr3,inr1,inr2;
	sc_uint&lt;12&gt;   he1;
	sc_uint&lt;1&gt;    q;
	int asdf;
	//------------Code Starts Here-------------------------   // Below function implements actual counter logic   void abs_calc () {
		q=inr[11];
		inr4=(inputfromadc.read());
		//hel=abs(inr4);
		inr=inputfromadc.read();
		if (inr&lt;2048) {
			inr1=inr;
		}
		else {
			inr3=~(inr) ;
			inr1=inr3+1;
		}
		absoutput.write(inr1);
	}
" listStruct="" nameTemplate="" typeTemplate="int" valueTemplate="" listTypedef="" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="282" >
<father id="301" num="0" />
<cdparam x="498" y="290" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="inputfromadc" />
<TGConnectingPoint num="0" id="273" />
<TGConnectingPoint num="1" id="274" />
<TGConnectingPoint num="2" id="275" />
<TGConnectingPoint num="3" id="276" />
<TGConnectingPoint num="4" id="277" />
<TGConnectingPoint num="5" id="278" />
<TGConnectingPoint num="6" id="279" />
<TGConnectingPoint num="7" id="280" />
<TGConnectingPoint num="8" id="281" />
<extraparam>
<Prop commName="inputfromadc" commType="0" origin="0" type="sc_uint&lt;32&gt;" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="1605" id="292" >
<father id="301" num="1" />
<cdparam x="698" y="341" />
<sizeparam width="20" height="20" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="-10" maxX="190" minY="-10" maxY="140" />
<infoparam name="Primitive port - Port DE" value="absoutput" />
<TGConnectingPoint num="0" id="283" />
<TGConnectingPoint num="1" id="284" />
<TGConnectingPoint num="2" id="285" />
<TGConnectingPoint num="3" id="286" />
<TGConnectingPoint num="4" id="287" />
<TGConnectingPoint num="5" id="288" />
<TGConnectingPoint num="6" id="289" />
<TGConnectingPoint num="7" id="290" />
<TGConnectingPoint num="8" id="291" />
<extraparam>
<Prop commName="absoutput" commType="0" origin="1" type="sc_uint&lt;32&gt;" sensitive="false" sensitive_method="" nbits="0" />
</extraparam>
</SUBCOMPONENT>
<SUBCOMPONENT type="5721" id="310" >
<father id="319" num="7" />
<cdparam x="332" y="478" />
<sizeparam width="200" height="150" minWidth="1" minHeight="1" maxWidth="2000" maxHeight="2000" minDesiredWidth="0" minDesiredHeight="0" />
<hidden value="false" />
<cdrectangleparam minX="0" maxX="873" minY="0" maxY="554" />
<infoparam name="TGComponent" value="Clock0" />
<TGConnectingPoint num="0" id="302" />
<TGConnectingPoint num="1" id="303" />
<TGConnectingPoint num="2" id="304" />
<TGConnectingPoint num="3" id="305" />
<TGConnectingPoint num="4" id="306" />
<TGConnectingPoint num="5" id="307" />
<TGConnectingPoint num="6" id="308" />
<TGConnectingPoint num="7" id="309" />
<extraparam>
<Attribute name_function="" nameTemplate="" name="TGComponent" frequency ="0.0" unit="null" dutyCycle="0.0" startTime="0.0" posFirst ="false" />
</extraparam>
</SUBCOMPONENT>


</SysCAMSComponentTaskDiagramPanel>

</Modeling>




</TURTLEGMODELING>